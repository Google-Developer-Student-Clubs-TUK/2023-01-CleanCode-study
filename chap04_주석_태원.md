# Chap04 주석

### "우리는 실패를 만회하기 위해 주석을 사용한다"


- 주석은 나쁜 코드를 보완하지 못한다. (=근본적으로 코드를 개선시키는게 맞다)
- 함수명을 통해 코드 자체로 의도를 충분히 표현할 수 있다.

```java
if(flags1 & flags2) { .. } // 의도 파악 어려움

if(isEligibleForFullBenefits()) { .. } // 코드 자체로 의미 전달 O

```

## 좋은 주석?
- 법적인 정보나 라이선스와 같은 특정 주석은 타당하다
- 정보를 제공하는 주석 (단, 함수 이름을 잘 사용하면 더 깔끔)
- 의도를 설명하는 주석 
- 의미를 명료하게 밝히는 주석 
   - 라이브러리나 변경할 수 없는 요소의 경우 주석을 통해 명확히 표현
   - ex) `a.compareTo(a) == 0 /// a == b `
   - 단 해당 주석에 대한 검증 필요
- 결과를 경고하는 주석
- Todo 주석
   - 주기적인 점검을 통해 업데이트 필요
  
 > > vsCode의 경우 https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree 를 활용해 Todo 주석의 위치를 파악할 수 있다.
 > >
 > > Intellij의 경우 `//TODO ~~~` 식별자를 넣으면 IDE도구에서 별도로 리스트업이 가능하다 
 > >
 > > ![image](https://user-images.githubusercontent.com/78795820/236514759-e60f328d-74d0-482f-898a-8641ff9f2e41.png)


## 나쁜 주석?

- 주절거리는 주석 (= 자기 자신만 알고있는 주석)
 
```java

// this.closed가 true이면 반환되는 메서드이다.
// 타임아웃시 예외가 발생

public synchronized void waitForClose(final long time)
throw Exception
{ 
  ...
}

```
   - 위 사례처럼 코드를 읽었을 때 충분히 의미파악이 가능하다면 불필요한 주석은 오히려 좋지 않다.


- 오해의 여지가 있는 주석
  - 잘못된 정보가 담겨있지 않게 하기


- 의무적으로 다는 주석
  - 모든 함수에 주석을 달아야한다는 규칙등

- **이력을 기록하는 주석**
  - "당시에는 바람직했으나 소스 코드 관리 시스템이 있기때문에 오히려 혼란을 가중시킨다. 제거시키는게 바람직"

- 있으나 마나 한 주석(=너무 당연한 주석)
- 위치를 표시하는 주석
   - `// 이 부분에서 함수가 실행됨@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@`
   - 이는 오히려 가독성을 낮추는 행위
  
 - 닫는 괄호에 다는 주석
 - **주석으로 처리한 코드**
    - 소스 코드 관리 시스템이 있기 때문에 주석으로 코드를 남길 필요가 없다
    - ex) `//dataPos = bytePos;`

- 전역 정보
  - 해당 코드에 대한 내용만 적어야 하며 시스템의 전반적인 코드를 기술하지 말라

- 너무 많은 정보를 표현하지 말라
- 주석과 코드 사이의 설명을 모호하게 표현하지 말라
- 비공개 코드에서는 Javadocs를 굳이 사용할 필요가 없다

> Javadocs란? : /** 내용 */ 으로 시작하는 주석으로 일반적으로 @param, @return등으로 표현한다
> ex)

```java
     *  A데이터를 파싱한다
     *
     * @param : {number} 정수형 score
     * @return : {string} 파싱된 문자열
     */
```

------

## 개인적인 회고

```
/**
   * 사용 범위 : 타임라인 컴포넌트
   * 업데이트 : 23.02.27
   * 작성자 : 정태원
   * 이슈 : Notifications/index.js 에서 사용 중인 "알림" 키가 겹쳐  기존의 "Notification을 Notify로 통일"
   */

  // Timeline
  알림: 'Notice',

```

위 사례는 "번역"키를 적용하기 위해 이전에 제안하고 실제 사용중이던 주석방식으로 각 날짜와 작성자, 이슈내용을 순차적으로 작성하고 있습니다.
다만 이런방식으로 주석을 적게되자 잦은 변경사항마다 주석도 항상 상시로 갱신해야했고 어느순간부터 이는 개발에 좋지 않은 영향을 끼치고 코드의 가독성또한 떨어지는 문제점이 생겼습니다.

확실히 요즘에는 commit내역이 전부 남기 때문에 잦은 개발로 코드변경이 잦다면 업데이트 날짜나 이슈같은 부분을 항상 다 적는게 좋은 방법이 아닐 것 같다고 생각했습니다

(이 부분에 대해 다른분들 의견도 궁금하네요!!)
